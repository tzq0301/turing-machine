# 实验报告

学号：522023330089
姓名：童昭旗
课程：形式语言与自动机（2023 秋）

## 分析与设计思路

项目共分为 cli、log、machine、parser、util 共 5 个模块，其中 machine 与 parser 模块是实现图灵机逻辑的核心模块，cli 与 log 模块是与命令行工具相关的辅助模块，以及 util 工具模块。

根据实验要求，将一次图灵机的运行抽象为为以下的 pipeline：

```mermaid
flowchart LR
	cli(解析命令行参数)-->tmfile(解析 tm 文件)
	tmfile-->tm(运行图灵机)
```

其中，cli 模块负责解析命令行参数、parser 模块负责解析给定的 tm 文件、machine 模块负责模拟给定字符串在一个多道图灵机上运行的行为。

## 实现细节

### cli 模块

cli 模块用于将命令行参数解析为具体的程序执行模式以及其需要的结构化参数。

将程序执行模式分为运行模式（Run Mode）与帮助模式（Help Mode），并使用设计模式抽象并解耦各个执行模型的抽象逻辑。

### parser 模块

parser 模块用于解析命令行中指定的“图灵机程序”，并给调用方返回一个抽象数据结构的实例。

由于“图灵机程序”文件以“行”为单位，因此设计 `StatementParser` 辅助 `Parser` 进行解析。

### machine 模块

machine 模块主要包括 `Machine`、`Tapes` 与 `Tape` 等类，其中使用 `Tapes` 类来管理多个 `Tape`、使用 `Machine` 来对 `Tapes` 进行“执行”，并由 `Machine` 控制 `Tapes` 的移动和 ID 的打印。

## 总结

在这次实验中，实现了一个多带图灵机的模拟器，其能够正确模拟运行特定语法的图灵机程序。

项目主要包括开发了一个解析器，用于解析图灵机程序，并基于此构建了一个模拟器来模拟图灵机的运行。

本次实验不仅加深了我对图灵机理论的理解，还提高了我在实际编程项目中解决问题的能力。